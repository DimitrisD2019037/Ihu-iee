#include <main.h>
#byte PORTB=0xF81 //???sµ?? t?? ????? µe t?? ??s? t??? st?? µ??µ?      
#byte PORTD=0xF83

// ????s? s??a?t?se??, global µetaﬂ??t??
void init (void);       
void rb (void);       

void main(){
   init();      //???s? t?? ???t??a? a?????p???s??
   while (TRUE) {;}     
}
        
//???t??a a?????p???s??
void init (void){
   set_tris_b(0xff);        // ?a????sµ?? t?? p??ta? ? ?? e?s?d??
   set_tris_d(0x00);      //  ?a????sµ?? t?? p??ta? D ?? e??d??
   enable_interrupts(GLOBAL);     //??e???p???s? t?? ?e????? d?a??pt? d?a??p??
   enable_interrupts(INT_RB); //??e???p???s? d?a??p?? ap? a??a?? 
                  //?at?stas?? st??? a???d??te? RB4, RB5, RB6, RB7
   PORTD=0x00;                //a????? t?µ? 0 st?? ???a D
}


//???t??a d?a??p??
#INT_RB  
void rb (void){   
   if(input(PIN_B0)==1){
      delay_ms(3000); //??aµ??? ??a 3 de?te???epta
      if(input(PIN_B0)==1){ //?? s??e??se? ?a e??a? e?e???p???µ????
                          //? s??a?e?µ?? e?e???p??e?ta? ? se????a
      output_high(PIN_D0);//??e???p???s? se????a?
      delay_ms(3000); //a?aµ??? ??a 3 sec
      output_low(PIN_D0);//?pe?e???p???s? se????a?   
      } 
   }
}
