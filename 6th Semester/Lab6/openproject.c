#include <main.h>
#byte PORTB=0xF81 

void init (void);             //????s? t?? ???t??a? a?????p???s??
void timer0_int(void);        //????s? t?? ???t??a? d?a??p?? ap? t?? timer0
int counter0=2;
int counter1=3;
int counter2=4;
int counter3=6;
                              //St? µetaﬂ??t? a?t? d??eta? ? a????? t?µ? 20.
                         
void main(){         
   init();       // ???s? t?? ???t??a? t?? a?????? ???µ?se??
   while (TRUE){ 
    // t? ????? p????aµµa de? ???e? t?p?ta. ??te?e? ??a? at??µ??a ﬂ????
   }
}         

// ???? ???t??a? e??p???t?s?? t?? d?a??p??
// ?d???a ?t? ? ep?µe?? ???t??a e??a? ? ???t??a e??p???t?s?? t?? ap? t?? Timer0
#INT_TIMER0
void timer0_int(void){
   //a????? t?µ? t?? timer0 ?ste ? ep?µe?? d?a??p? ?a s?µﬂe? se ????? ?s? µe 10 ms
   set_timer0(46786);
   counter0--;
   counter1--;
   counter2--;
   counter3--;
   if (counter0==0){
      counter0=2;
      PORTB=PORTB^0b00000001;       
         } 
    if ( counter1==0){
      counter1=3;
      PORTB=PORTB^0b00000010; 
    }
    if ( counter2==0){
      counter2=4;
      PORTB=PORTB^0b00000100; 
    }
    if( counter3==0){
       counter3=6;
       PORTB=PORTB^0b00001000;
    }
}                 

// ???? ???t??a? a?????? ???µ?se??
void init (void) {       
   // ???µ?s? t?? p????aµµat???µe??? d?a???t? st?? t?µ? 1/64
   SETUP_TIMER_0(T0_INTERNAL | T0_DIV_32 );
   //  ?????? t?µ? t??  timer0 ?ste ?a s?µﬂa????? d?a??p?? ???e 10 ms
   set_timer0(46786); 
   // ??e???p???s? t?? d?a??p?? ap? t?? timer0
   enable_interrupts(INT_TIMER0); 
      // ??e???p???s? t?? ?e????? d?a??pt? t?? d?a??p??
   enable_interrupts(GLOBAL); 

   set_tris_b(0x00);                    
   PORTB=0x00;                          
}
           
// Interrupt ???e (65536-63661)*[1/(Fclock/4)]*Prescaler = 9.994ms

