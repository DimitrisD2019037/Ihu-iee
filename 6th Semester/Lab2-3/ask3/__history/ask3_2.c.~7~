#include<main-proteus.h>            
#byte PORTD=0xF83         
#byte PORTB=0xF81     
                     
void push_button(void); 
//????s? t?? s????t?s?? pat?µat?? µp??t??. ???s???, p??? ap? t?? main()
//?e a?t? t? s????t?s? e?te????ta? ??e? ?? e?t???? µe t?? ?p??e?
//? µ????e?e??t?? a?a??????e? t? p???e? p?t?µa(pat?+af???) e??? µp??t??

//*****?p? ed? a????e? t? ????? p????aµµa*******
void main()
{                 
set_tris_d(0x00); //? ???a D ???d??
set_tris_b(0xFF); //? ???a B e?s?d??
PORTD=0x0F;             
while(TRUE) {  //s?????? p??ta a?????
   //G??eta? ???s? t?? s????t?s?? pat?µat?? µp??t??
      push_button();
   //e?a??a?? ?atast?se?? sta bit t?? PORTD
   PORTD=PORTD^0xFF;
      }
}

//???sµ?? t?? s????t?s?? push_button
//? ???sµ?? t?? s????t?s?? ???feta? µet? t? ????? p????aµµa
//?e t? s????t?s? a?t? ? µ????e?e??t?? pe??µ??e? 
//??a p???e? p?t?µa t?? µp??t?? (pat?+af???)
//?a? st? s????e?a p?e? st?? ep?µe?? e?t???.
void push_button(void) {                 
   while(input(PIN_B4) == 1) {
                   // ??aµ??? ??? ?t?? pat??e? t? µp??t??
                              }   
   // St?? ?at?stas? a?aµ???? de? e?te?e?ta? ?aµ?? e?t???
   // ?ta? pat??e? t? µp??t?? ???eta? ???d?? ap? t??  ß????
   // ?a? e?te?e?ta? ? ep?µe?? e?t???
   delay_ms(50);
   // ?a??st???s? 50 ms ??a ap?f??? fa???µe??? a?ap?d?se??
   
   while(input(PIN_B4) == 0) {
                  //??aµ??? ??? ?t?? afe?e? t? µp??t??
                             }       
   // St?? ?at?stas? a?aµ???? de? e?te?e?ta? ?aµ?? e?t???
   // ?ta? afe?e? t? µp??t?? ???eta? ???d?? ap? t?? ß????
   // ?a? e?te?e?ta? ? ep?µe?? e?t???
   
   delay_ms(50);
   // ?a??st???s? 50 ms ??a ap?f??? fa???µe??? a?ap?d?se??
}

